(this["webpackJsonpweather-t"]=this["webpackJsonpweather-t"]||[]).push([[0],{31:function(e,t,a){},34:function(e,t,a){e.exports=a(69)},39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),i=(a(39),function(){return r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"2em",fontFamily:"'Grandstander', cursive"}},"WeatherToday"))}),m=a(10),u=(a(40),a(15)),o=a.n(u),s=a(32),d=a(16),f=a.n(d);function p(){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(o.a.mark((function e(){var t,a,n,r,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"Kyiv",e.next=3,f.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=fb29f9e6a701cff969bb669dc0bd7c35"));case 3:return a=e.sent,e.next=6,a.data.city.coord;case 6:return n=e.sent,e.next=9,f.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(n.lat,"&lon=").concat(n.lon,"&exclude=hourly&appid=fb29f9e6a701cff969bb669dc0bd7c35"));case 9:return r=e.sent,e.abrupt("return",[a.data,r.data]);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=a(5);var D=Object(h.b)((function(e){return{dataDays:e}}),(function(e){return{findCity:function(t,a){return e({type:"FIND_CITY",dataF:t,cName:a})}}}))((function(e){var t=e.findCity,a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],i=c[1],u=Object(n.useState)(!1),o=Object(m.a)(u,2),s=o[0],d=o[1],f=function(){p(l).then((function(e){return t(e,l)})).catch((function(){d(!0),setTimeout((function(){d(!1)}),4e3)})),i("")};return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"find-div"},r.a.createElement("input",{className:"find-style",onKeyDown:function(e){"Enter"===e.key&&f()},value:l,onChange:function(e){return function(e){i(e.target.value)}(e)},type:"text",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"}),r.a.createElement("button",{onClick:function(){return f()},className:"find-btn"},"\u0438\u0441\u043a\u0430\u0442\u044c")),s?r.a.createElement("p",{style:{marginTop:"8px"}},"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e"):null)})),g=(a(63),function(){return r.a.createElement("div",{className:"lang-style"},r.a.createElement("a",{href:"/"},"\u0440\u0443\u0441"),r.a.createElement("a",{href:"/"},"eng"))}),v=(a(64),function(){return r.a.createElement("div",{className:"top-bar"},r.a.createElement(i,null),r.a.createElement(D,null),r.a.createElement(g,null))}),E=(a(31),a(8)),w=function(e){var t=e.el,a="+1";t.tMax>0&&(a="+".concat(t.tMax));var n="+1";return t.tMin>0&&(n="+".concat(t.tMin)),r.a.createElement(E.b,{to:"/day/".concat(t.num),className:"linkNav",activeClassName:"Active-w"},r.a.createElement("div",{className:"weather-w"},r.a.createElement("div",{className:"one_div"},r.a.createElement("p",null,t.day)),r.a.createElement("div",{className:"two_div"},r.a.createElement("p",null,t.num)),r.a.createElement("div",{className:"three_div"},r.a.createElement("p",null,t.month)),r.a.createElement("div",{className:"foo_div"},r.a.createElement("img",{style:{height:"70px"},src:"https://openweathermap.org/img/wn/".concat(t.img,"@2x.png"),alt:"weather"})),r.a.createElement("div",{className:"five_div"},r.a.createElement("div",null,r.a.createElement("p",{className:"s-t"},"\u043c\u0438\u043d."),r.a.createElement("p",{className:"s-tm"},n)),r.a.createElement("div",null,r.a.createElement("p",{className:"s-m"},"\u043c\u0430\u043a\u0441."),r.a.createElement("p",{className:"s-tm"},a)))))};var N=Object(h.b)((function(e){return{dataDays:e}}),(function(e){return{createDataDay:function(t){return e({type:"CREATE_DATE",data:t})}}}))((function(e){var t=e.createDataDay,a=e.dataDays,c=Object(n.useState)(""),l=Object(m.a)(c,2),i=l[0],u=l[1];Object(n.useEffect)((function(){p().then((function(e){return t(e)})),setInterval((function(){u(function(){var e=new Date,t=e.getFullYear(),a=e.getDate()+"",n=function(e){return 1===e.length?"0"+e:e},r=e.getMonth()+1,c=e.getHours()+"",l=e.getMinutes()+"",i=e.getSeconds()+"";return"".concat(n(a),".").concat(r,".").concat(t," ").concat(c,":").concat(n(l),":").concat(n(i))}())}),1e3)}),[]);var o=a.arrTopW.map((function(e,t){return r.a.createElement(w,{key:t,el:e})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"pStyleCityTime"},r.a.createElement("span",{className:"styleCity"},a.cityName),"555 \xa0\xa0",r.a.createElement("span",{className:"styleTime"},i)),r.a.createElement("div",{className:"container-w"},o))})),b=(a(66),a(67),function(e){var t=e.arr,a=t.img,n=t.temp,c=t.time,l=t.humidity,i="";i="--"===a?"04n":a;var m="+1";return m=n>0?"+".concat(n):"".concat(n),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"into-block"},r.a.createElement("div",{className:"img-time"},r.a.createElement("div",{className:"time-w"},r.a.createElement("p",null,c)),r.a.createElement("div",{className:"img-w"},r.a.createElement("img",{height:"40",src:"https://openweathermap.org/img/wn/".concat(i,"@2x.png"),alt:"day, weather"}))),r.a.createElement("div",{className:"tempBlock"},r.a.createElement("p",null,m,"\xb0C"))),r.a.createElement("div",{className:"humidity-style"},r.a.createElement("p",null,"\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",l," %")))}),T=function(e){var t=e.name,a=e.timeTwo.map((function(e,t){return r.a.createElement(b,{key:t,arr:e})}));return r.a.createElement("div",{className:"miniBlock"},r.a.createElement("div",{className:"day-inf"},r.a.createElement("p",null,t)),a)},x=(a(68),function(e){var t=e.infDay,a=t.numDay,n=t.nameDay,c=t.tempToday,l=t.likeTemp,i=t.winter,m=t.img,u=t.speedWinter,o=t.humidity,s=t.pressure,d=t.yearsNum,f=t.numMonth,p="1";p=c>0?"+".concat(c):"".concat(c);var y="1";return y=c>0?"+".concat(l):"".concat(l),r.a.createElement("div",{className:"leftInf-style"},r.a.createElement("p",{className:"day-style-left"},n," ",a,".",f,".",d),r.a.createElement("div",{className:"temp-left"},r.a.createElement("img",{width:70,src:"https://openweathermap.org/img/wn/".concat(m,"@2x.png"),alt:"weather"}),r.a.createElement("p",null,p,"\xb0C")),r.a.createElement("p",{className:"like-temp"},"\u0447\u0443\u0432\u0441\u0442\u0432\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",y,"\xb0C"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,"\u0414\u0430\u0432\u043b\u0435\u043d.: ",s," hPa"),r.a.createElement("p",null,"\u0421\u043a\u043e\u0440. \u0432\u0435\u0442\u0440\u0430: ",Math.floor(u)," \u043c.\u0441")),r.a.createElement("div",null,r.a.createElement("p",null,"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",o,"%"),r.a.createElement("p",null,"\u043d\u0430\u043f\u0440. \u0432\u0435\u0442\u0440\u0430: ",i,"\xb0"))))}),M=a(1);var O=Object(h.b)((function(e){return{dataDaysShow:e}}),(function(e){return{findDay:function(t){return e({type:"FIND_DAY",numDay:t})},dataDay:function(){return e({type:"DATA_DAY"})}}}))((function(e){var t=e.dataDaysShow,a=e.findDay,c=e.dataDay,l=Object(M.f)().num;if(Object(n.useEffect)((function(){a(l)}),[l]),console.log("show w",t),Object(n.useEffect)((function(){null===t.allDays?console.log("null"):c()}),[t.allDays]),void 0===l||l<(new Date).getDate()||l>(new Date).getDate()+4)return console.log("\u043d\u0438\u0447\u0435\u0433\u043e"),r.a.createElement(M.a,{to:"/day/".concat((new Date).getDate())});if(null===t.oneDayData)return null;var i=t.oneDayData[0].temp.map((function(e,t){return r.a.createElement(T,{key:t,name:e.name,timeTwo:e.timeTwo})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-weather"},r.a.createElement(x,{infDay:t.oneDayData[0]}),r.a.createElement("div",null,i)))})),j=function(){return r.a.createElement("div",{style:{width:"800px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(N,null),r.a.createElement(M.b,{path:"/",exact:!0,component:O}),r.a.createElement(M.b,{path:"/day/:num",component:O}))},k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(j,null),r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"flex-end"}},r.a.createElement("div",{style:{width:"100%",background:"#2A0A0A",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("p",{style:{color:"#fff",fontSize:"0.8em"}},"copyright \xa9 Shevchenko David 2020"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(13),A=a(7);function _(e){var t=e.daily;return[0,1,2,3,4].map((function(e){var a,n=function(e){var t=new Date;return new Date(t.setDate(t.getDate()+e))}(e),r=n.getDate(),c=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u0438\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"][n.getDay()],l=n.getMonth()+1,i=function(e){return t.filter((function(t){return new Date(1e3*t.dt).getDate()===e}))}(r);return{day:c,num:r,month:(a=l-1,["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"][a]),numMonth:l,img:i[0].weather[0].icon,tMin:Math.floor(i[0].temp.min-272),tMax:Math.floor(i[0].temp.max-272)}}))}function F(e,t){var a=e.list;return[0,1,2,3,4].map((function(e){var n=function(e){var t=new Date;return new Date(t.setDate(t.getDate()+e))}(e),r=n.getDate(),c=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u0438\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"][n.getDay()],l=function(e){function t(e,t){var a=new Date(1e3*e.dt);switch(a.setMilliseconds(-108e5),t){case"d":return a.getDate();case"h":return a.getHours();default:return null}}var n=a.filter((function(a){return t(a,"d")===e})),r=function(e){return n.filter((function(a){return t(a,"h")===e}))},c=function(e,t){if(r(e).length<1)return"--";switch(t){case"icon":return r(e)[0].weather[0].icon;case"temp":return Math.floor(r(e)[0].main.temp-272);case"humidity":return r(e)[0].main.humidity}};return[{name:"\u043d\u043e\u0447\u044c",timeTwo:[{time:"0:00",img:c(0,"icon"),temp:c(0,"temp"),humidity:c(0,"humidity")},{time:"3:00",img:c(3,"icon"),temp:c(3,"temp"),humidity:c(3,"humidity")}]},{name:"\u0443\u0442\u0440\u043e",timeTwo:[{time:"6:00",img:c(6,"icon"),temp:c(6,"temp"),humidity:c(6,"humidity")},{time:"9:00",img:c(9,"icon"),temp:c(9,"temp"),humidity:c(9,"humidity")}]},{name:"\u0434\u0435\u043d\u044c",timeTwo:[{time:"12:00",img:c(12,"icon"),temp:c(12,"temp"),humidity:c(12,"humidity")},{time:"15:00",img:c(15,"icon"),temp:c(15,"temp"),humidity:c(15,"humidity")}]},{name:"\u0432\u0435\u0447\u0435\u0440",timeTwo:[{time:"18:00",img:c(18,"icon"),temp:c(18,"temp"),humidity:c(18,"humidity")},{time:"21:00",img:c(21,"icon"),temp:c(21,"temp"),humidity:c(21,"humidity")}]}]}(r),i=function(e){return t.daily.filter((function(t){return new Date(1e3*t.dt).getDate()===e}))}(function(e){var t=new Date;return new Date(t.setDate(t.getDate()+e))}(e).getDate())[0];return{yearsNum:n.getFullYear().toString().substr(-2),numMonth:n.getMonth()+1,numDay:r,nameDay:c,tempToday:Math.floor(i.temp.day-272),img:i.weather[0].icon,likeTemp:Math.floor(i.feels_like.day-272),winter:i.wind_deg,speedWinter:i.wind_speed,humidity:i.humidity,pressure:i.pressure,temp:l}}))}var I={dataDays:null,dataOneCall:null,arrTopW:[{day:"\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",img:"https://openweathermap.org/img/wn/02d@2x.png",month:"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c",numMonth:12,num:14,tMax:24,tMin:14}],cityName:"\u041a\u0438\u0435\u0432",allDays:null,page:1,oneDayData:null};var S=Object(C.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_DATE":return Object(A.a)({},e,{dataDays:t.data[0],dataOneCall:t.data[1],arrTopW:_(t.data[1]),allDays:F(t.data[0],t.data[1])});case"FIND_CITY":return Object(A.a)({},e,{dataDays:t.dataF[0],dataOneCall:t.dataF[1],arrTopW:_(t.dataF[1]),cityName:t.cName,allDays:F(t.dataF[0],t.dataF[1])});case"FIND_DAY":var a=e.oneDayData;return null!==e.allDays&&(a=e.allDays.filter((function(e){return e.numDay===+t.numDay}))),Object(A.a)({},e,{page:t.numDay,oneDayData:a});case"DATA_DAY":if(console.log("hellosssss"),null!==e.allDays){var n=e.allDays.filter((function(t){return t.numDay===+e.page})),r=e.allDays.filter((function(t){return t.numDay===+e.page}));if(0===r.length){var c=e.allDays[0].numDay;return Object(A.a)({},e,{page:c,oneDayData:e.allDays.filter((function(e){return e.numDay===+c}))})}return Object(A.a)({},e,{oneDayData:n})}default:return e}}));l.a.render(r.a.createElement(E.a,{basename:"/weatherToday"},r.a.createElement(h.a,{store:S},r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.a0d8903b.chunk.js.map